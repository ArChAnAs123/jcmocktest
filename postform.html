<!DOCTYPE html>
<html>
   <body>
      <head>
         <title>HTML Form</title>
      </head>
      <p>Add your details:</p>
      <form id="first" action="#" method="post" >
        
        Firstname:<br> <input type="text" name="fname" id="fname">
         <br>
         Lastname:<br> <input type="text" name="lname" id="lname">
         <br>
         Gender:<br> <input type="text" name="gender" id="gender">
         <br>
         Emailid:<br> <input type="text" name="email" id="email">
         <input type="submit"  value="Submit">
         
      </form>
      <script>
          document.getElementById("first").onSubmit =  function loadDoc(){
    var firstname=form.elements['fname'].value;
    var lastname=form.elements['lname'].value;
    var gender=form.elements['gender'].value;
    var email=form.elements['email'].value;
    console.log("d");
var xhr = new XMLHttpRequest();
xhr.open("POST", "http://localhost:3000/users",true);


xhr.setRequestHeader("Content-Type", "application/json");

xhr.onreadystatechange = function () {
   if (xhr.readyState === 4 && xhr.status === 200) {
      console.log(xhr.status);
      console.log(xhr.responseText);
   }};
   var user = JSON.stringify({"first_name":firstname, "last_name":lastname, "gender":gender, "email":email});
   xhr.send(user);
}
          
      </script>
   </body>
</html>
